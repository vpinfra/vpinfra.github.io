id: 201903262238
title: Streaming System （1）什么是流
date: 2019-03-26 22:38:45
categories: 大数据
tags: [大数据]
author: 赵明旭

-------------
在当下，流数据处理是大数据中的一个重要的问题，主要原因为：

* 企业渴望更实时的数据，而使用流是实现低延迟的一个很好的方法；
* 在现代的社会中，大规模，无边界的数据集越来越普遍了，而为永无止境的数据量设计的系统才能驾驭它；
* 在数据到达时处理相较于其他方式，可以使得数据处理的工作负载更加均匀分散，提高了资源利用率的同时，也使得资源的消耗变得可预测。

尽管企业对流的关注激增，但是长久以来，流数据系统相较与他的兄弟批还是不够成熟，直到最近潮流才有所转变。在我比较自大的时刻，我希望这在一定程度上是由我在[Streaming 101](https://www.oreilly.com/ideas/the-world-beyond-batch-streaming-101)和[Streaming 102](https://www.oreilly.com/ideas/the-world-beyond-batch-streaming-102)的博客文章中发表的看法产生的激励效应引起的。但实际上，也有很多行业希望看到流计算的成熟，并且由很多聪明并且活跃的人来一起构建他。

尽管在我看来，对流计算的宣传已经初见成效，但我仍将原原本本的叙述我在 **Streaming 101**中的观点。首先，这些观点在今天仍然适用，而且已经由很多行业开始注意到这种呼声。第二很多人还没有学习到这些观点，而这本书将是这些观点的进一步的阐述。

---------------
首先，我将介绍一些重要的背景信息，这些信息有助于我们理解要讨论的其他主题，我将分为以下三个方面来介绍：
* 术语
    要想准确的描述复杂的问题，必须对术语有精确的定义。目前，很多术语在使用的过程中描述过度，本文将尝试为这些术语做更准确的定义。
* 能力
    我将指出目前流计算系统经常被认为存在的缺点，并提出我认为数据处理系统构建者需要采用的思维模式，以满足现在用户的需求。
* 时间域
    我将介绍与数据处理相关的两个时间域及其关系，并指出这两个域所带来的一些困难。
    
-------------
***术语:什么是流？***
在继续本文之前，我想先澄清一点：什么是流？
流这个术语现在被各种误用，导致大家对流到底是什么以及流计算系统实际上能够做什么产生了误解。因此，我将对流给出一个稍微精确的定义。
最主要的问题是，许多本应由他们是什么（无界限的数据处理，近似结果等）来描述的东西，现在却由他们是怎么完成的来描述（即，通过流式执行引擎）。术语定义不准确使得流的真正含义变得模糊，甚至是人们对于流计算系统带来了误解，让人们误以为流计算系统的能力仅限于所描述的一些流的特征，例如近似或推测的结果。
而考虑到设计良好的流计算系统和任何现有的批处理引擎一样能够产生正确，一致，可重复的结果，我建议将流一词单独定义为一个非常特定的含义：
**Streaming syetem**
    A type of data processing engine that is designed with infinte datasets in mind.
**流计算系统**
    一个为无限数据而设计的数据处理引擎。
    
如果我想讨论低延迟，近似或推测的结果，我会使用相应的词语来描述，而避免使用“流”这个模糊的术语。
精确的术语在讨论不同类型的数据时也是有意义的。在我看来，有两个重要且正交的维度来定义数据集的形状：基数（cardinality）和构造（constitution）。
数据集的基数决定了它的大小，基数最显著的要素是数据集是有限的还是无限的。我比较喜欢用下面两个术语来描述数据集中粗略的基数：

**有界数据（Bounded data)**
数据集的大小是有限的。
**无界数据（Unbounded data)**
数据集的大小是无限的。

无界数据的无限的数据大小会给他们的数据处理框架增加额外的负担，这点将在下一章节进行详细的介绍。

而数据集的构造则决定了它的物理展现形式。因此，构造定义了人们与数据交互的方式。构成将在第六章进行详细的描述，两种重要的构造为：

**表（Table）**
某个时间点上，所有数据的快照。现存的数据库都是在处理表。
**流（Stream)**
随时间变化的数据集，从每个元素（变化）的视角看，得到的视图。基于MapReduce的系统都是在处理流。

在后面的章节里，我将详细的介绍这二者之间的关系。